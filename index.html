<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>MiniSoccer - Szybki Mecz</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
        text-align: center;
      }
      .hidden {
        display: none;
      }
      button {
        font-size: 18px;
        padding: 10px 20px;
        margin: 10px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      button:hover {
        background-color: #0056b3;
      }
      #gameCanvas {
        background-color: #eee;
        border: 2px solid #333;
        display: block;
        margin: auto;
      }
    </style>
  </head>
  <body>
    <!-- Ekran startowy -->
    <div id="startScreen">
      <h1>MiniSoccer - Szybki Mecz</h1>
      <button id="startMatchBtn">Rozpocznij mecz</button>
    </div>

    <!-- Ekran wyboru drużyn -->
    <div id="teamSelectScreen" class="hidden">
      <h2>Wybierz drużyny</h2>
      <div id="teamList"></div>
      <button id="proceedToLineupBtn">Dalej</button>
    </div>

    <!-- Ekran wyboru składu -->
    <div id="playerSelectScreen" class="hidden">
      <h2>Wybierz skład</h2>
      <div id="playerList"></div>
      <button id="confirmLineupBtn">Zatwierdź skład</button>
    </div>

    <!-- Ekran gry -->
    <div id="gameScreen" class="hidden">
      <h2>Rozgrywka</h2>
      <canvas id="gameCanvas" width="800" height="400"></canvas>
      <p id="scoreboard">Wynik: 0</p>
      <button id="backToStartBtn">Powrót do menu</button>
    </div>

    <script>
      (function () {
        "use strict";

        const teamsData = {
          "Manchester City": {
            "Bramkarze": [
              { name: "Ederson", rating: 90 },
              { name: "Stefan Ortega", rating: 80 }
            ],
            "Obrońcy": [
              { name: "Rúben Dias", rating: 88 },
              { name: "John Stones", rating: 83 },
              { name: "Nathan Aké", rating: 82 },
              { name: "Joško Gvardiol", rating: 86 },
              { name: "Manuel Akanji", rating: 81 }
            ],
            "Pomocnicy": [
              { name: "Kevin De Bruyne", rating: 92 },
              { name: "Rodri", rating: 88 },
              { name: "İlkay Gündoğan", rating: 85 },
              { name: "Bernardo Silva", rating: 87 },
              { name: "Mateo Kovačić", rating: 83 }
            ],
            "Napastnicy": [
              { name: "Erling Haaland", rating: 96 },
              { name: "Jack Grealish", rating: 84 },
              { name: "Jérémy Doku", rating: 82 },
              { name: "Phil Foden", rating: 86 }
            ]
          },
          "Liverpool FC": {
            "Bramkarze": [
              { name: "Alisson", rating: 88 },
              { name: "Caoimhín Kelleher", rating: 79 }
            ],
            "Obrońcy": [
              { name: "Virgil van Dijk", rating: 89 },
              { name: "Trent Alexander‑Arnold", rating: 88 },
              { name: "Andrew Robertson", rating: 85 },
              { name: "Ibrahima Konaté", rating: 83 },
              { name: "Joël Matip", rating: 81 }
            ],
            "Pomocnicy": [
              { name: "Mohamed Salah", rating: 94 },
              { name: "Alexis Mac Allister", rating: 83 },
              { name: "Dominik Szoboszlai", rating: 85 },
              { name: "Curtis Jones", rating: 80 },
              { name: "Wataru Endō", rating: 78 }
            ],
            "Napastnicy": [
              { name: "Darwin Núñez", rating: 84 },
              { name: "Luis Díaz", rating: 86 },
              { name: "Diogo Jota", rating: 84 },
              { name: "Cody Gakpo", rating: 82 }
            ]
          }
          // Reszta drużyn dodana w podobny sposób
        };

        let currentScreen = "startScreen";
        let selectedTeam = null;

        function switchScreen(newScreen) {
          document.getElementById(currentScreen).classList.add("hidden");
          document.getElementById(newScreen).classList.remove("hidden");
          currentScreen = newScreen;
        }

        function populateTeams() {
          const teamList = document.getElementById("teamList");
          teamList.innerHTML = "";
          for (let team in teamsData) {
            const btn = document.createElement("button");
            btn.textContent = team;
            btn.addEventListener("click", () => {
              selectedTeam = team;
              console.log("Wybrano drużynę:", team);
            });
            teamList.appendChild(btn);
          }
        }

        function populatePlayers() {
          if (!selectedTeam) return;
          const playerList = document.getElementById("playerList");
          playerList.innerHTML = "";
          const teamPlayers = teamsData[selectedTeam];
          for (let position in teamPlayers) {
            const header = document.createElement("h3");
            header.textContent = position;
            playerList.appendChild(header);

            teamPlayers[position].forEach((player) => {
              const p = document.createElement("p");
              p.textContent = `${player.name} (${player.rating})`;
              playerList.appendChild(p);
            });
          }
        }

        document.getElementById("startMatchBtn").addEventListener("click", () => {
          switchScreen("teamSelectScreen");
          populateTeams();
        });

        document.getElementById("proceedToLineupBtn").addEventListener("click", () => {
          if (!selectedTeam) {
            alert("Wybierz drużynę, zanim przejdziesz dalej!");
            return;
          }
          switchScreen("playerSelectScreen");
          populatePlayers();
        });

        document.getElementById("confirmLineupBtn").addEventListener("click", () => {
          switchScreen("gameScreen");
        });

        document.getElementById("backToStartBtn").addEventListener("click", () => {
          switchScreen("startScreen");
        });
      })();
    </script>
  </body>
</html>
