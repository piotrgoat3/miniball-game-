<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>MiniSoccer - Szybki Mecz</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
        text-align: center;
      }
      .hidden {
        display: none;
      }
      button {
        font-size: 18px;
        padding: 10px 20px;
        margin: 10px;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      button:hover {
        background-color: #0056b3;
      }
      #gameCanvas {
        background-color: #eee;
        border: 2px solid #333;
        display: block;
        margin: auto;
      }
    </style>
  </head>
  <body>
    <!-- Ekran startowy -->
    <div id="startScreen">
      <h1>MiniSoccer - Szybki Mecz</h1>
      <button id="startMatchBtn">Rozpocznij mecz</button>
    </div>

    <!-- Ekran wyboru drużyn -->
    <div id="teamSelectScreen" class="hidden">
      <h2>Wybierz drużyny</h2>
      <div id="teamList"></div>
      <button id="proceedToLineupBtn">Dalej</button>
    </div>

    <!-- Ekran wyboru składu -->
    <div id="playerSelectScreen" class="hidden">
      <h2>Wybierz skład</h2>
      <div id="playerList"></div>
      <button id="confirmLineupBtn">Zatwierdź skład</button>
    </div>

    <!-- Ekran gry -->
    <div id="gameScreen" class="hidden">
      <h2>Rozgrywka</h2>
      <canvas id="gameCanvas" width="800" height="400"></canvas>
      <p id="scoreboard">Wynik: 0</p>
      <button id="backToStartBtn">Powrót do menu</button>
    </div>

    <script>
      (function () {
        "use strict";

        const teamsData = {
          "Manchester City": { /* Zawodnicy Manchester City */ },
          "Liverpool FC": { /* Zawodnicy Liverpool FC */ },
          "Arsenal FC": { /* Zawodnicy Arsenal FC */ },
          "Newcastle United": { /* Zawodnicy Newcastle United */ },
          "Aston Villa": { /* Zawodnicy Aston Villa */ },
          "Chelsea FC": { /* Zawodnicy Chelsea FC */ },
          "Real Madrid CF": { /* Zawodnicy Real Madrid */ },
          "FC Barcelona": { /* Zawodnicy FC Barcelona */ },
          "Atlético Madrid": { /* Zawodnicy Atlético Madrid */ },
          "Real Sociedad": { /* Zawodnicy Real Sociedad */ },
          "Real Betis": { /* Zawodnicy Real Betis */ },
          "Sevilla FC": { /* Zawodnicy Sevilla FC */ }
        };

        let currentScreen = "startScreen";
        let selectedTeam = null;

        function switchScreen(newScreen) {
          document.getElementById(currentScreen).classList.add("hidden");
          document.getElementById(newScreen).classList.remove("hidden");
          currentScreen = newScreen;
        }

        function populateTeams() {
          const teamList = document.getElementById("teamList");
          teamList.innerHTML = "";
          for (let team in teamsData) {
            const btn = document.createElement("button");
            btn.textContent = team;
            btn.addEventListener("click", () => {
              selectedTeam = team;
              console.log("Wybrano drużynę:", team);
            });
            teamList.appendChild(btn);
          }
        }

        function populatePlayers() {
          if (!selectedTeam) return;
          const playerList = document.getElementById("playerList");
          playerList.innerHTML = "";
          const teamPlayers = teamsData[selectedTeam];
          for (let position in teamPlayers) {
            const header = document.createElement("h3");
            header.textContent = position;
            playerList.appendChild(header);

            teamPlayers[position].forEach((player) => {
              const p = document.createElement("p");
              p.textContent = `${player.name} (${player.rating})`;
              playerList.appendChild(p);
            });
          }
        }

        document.getElementById("startMatchBtn").addEventListener("click", () => {
          switchScreen("teamSelectScreen");
          populateTeams();
        });

        document.getElementById("proceedToLineupBtn").addEventListener("click", () => {
          if (!selectedTeam) {
            alert("Wybierz drużynę, zanim przejdziesz dalej!");
            return;
          }
          switchScreen("playerSelectScreen");
          populatePlayers();
        });

        document.getElementById("confirmLineupBtn").addEventListener("click", () => {
          switchScreen("gameScreen");
        });

        document.getElementById("backToStartBtn").addEventListener("click", () => {
          switchScreen("startScreen");
        });
      })();
    </script>
  </body>
</html>
