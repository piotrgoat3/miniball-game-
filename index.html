<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Soccer Game v4</title> <!-- Tylko jeden title -->
    <link rel="stylesheet" href="style.css"> <!-- Tylko jeden link do CSS -->
    <style>
        /* --- Minimalne style dla działania modali i canvas --- */
        /* Przenieś je i rozbuduj w swoim style.css */
        body {
            font-family: sans-serif;
            margin: 0;
            background-color: #f0f0f0; /* Domyślne tło */
            color: #333;
        }

        .modal {
            display: none; /* Ukryj domyślnie */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            min-width: 300px;
            max-width: 90%;
            padding: 25px;
            background-color: white;
            border: 1px solid #ccc;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            z-index: 1000;
            text-align: center;
        }

        .modal.active {
            display: block; /* Pokaż aktywny modal */
        }

        /* Ekran gry specjalnie - nie jest modalem, ale ukryty na start */
        #gameScreen {
            display: none;
            padding: 10px;
            text-align: center;
        }

        body.game-active-background {
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }

        .start-screen-background {
            /* Tło dla ekranu startowego ustawiane przez JS */
            background-color: #e0e0e0; /* Przykładowy kolor tła startowego */
        }

        #gameContainer {
            width: 100%;
            max-width: 800px; /* Maksymalna szerokość wizualna canvas */
            margin: 15px auto;
            position: relative;
        }

        #gameCanvas {
            display: block;
            width: 100%; /* Wypełni kontener */
            height: auto; /* Auto wysokość dla zachowania proporcji */
            background-color: #4a7c4a; /* Ciemniejsza zieleń boiska */
            max-width: 100%;
            aspect-ratio: 640 / 400; /* Zachowaj proporcje logiczne */
            border: 2px solid white; /* Ramka boiska */
        }

         #gameCanvas:active {
             cursor: grabbing;
         }

         button {
             padding: 10px 15px;
             margin: 5px;
             cursor: pointer;
             border: none;
             background-color: #5cacee;
             color: white;
             border-radius: 4px;
             transition: background-color 0.2s ease;
         }
         button:hover {
             background-color: #4a8bc1;
         }
         select {
             padding: 8px;
             margin: 5px;
         }
         label {
             margin-right: 5px;
         }
         h1, h2 {
             color: #333;
         }
         #scoreboard, #matchTimer {
             font-size: 1.1em;
             font-weight: bold;
             margin-bottom: 10px;
             color: #eee; /* Kolor tekstu na ciemnym tle gry */
             text-shadow: 1px 1px 2px black;
         }
         #gameScreen button { /* Przyciski na ekranie gry mogą mieć inny styl */
            background-color: #d9534f;
         }
          #gameScreen button:hover {
             background-color: #c9302c;
          }

    </style>
</head>
<body>

    <!-- Ekran Startowy -->
    <div id="startScreen" class="modal active start-screen-background"> <!-- Tylko jedna wersja -->
        <h1>Mini Soccer</h1>
        <button id="startMatchBtn">Rozpocznij Mecz</button>
        <button id="btnSettings">Ustawienia</button>
        <button id="btnPlayerDB">Baza Graczy (Placeholder)</button>
        <button id="btnLanguage">Język (Placeholder)</button>
    </div>

    <!-- Ekran Wyboru Drużyn -->
    <div id="teamSelectScreen" class="modal"> <!-- Tylko jedna wersja -->
        <h2>Wybierz Drużyny</h2>
        <div>
            <label for="homeTeamSelect">Gospodarze:</label>
            <select id="homeTeamSelect">
                <option value="">-- Wybierz --</option>
                <!-- Opcje drużyn zostaną dodane przez JS -->
            </select>
        </div>
        <div>
            <label for="awayTeamSelect">Goście:</label>
            <select id="awayTeamSelect">
                <option value="">-- Wybierz --</option>
                <!-- Opcje drużyn zostaną dodane przez JS -->
            </select>
        </div>
        <button id="goToStadiumSelectBtn">Wybierz Stadion</button>
        <button id="backToMenuFromSelect">Wróć do Menu</button>
    </div>

    <!-- Ekran Wyboru Stadionu -->
    <div id="stadiumSelectScreen" class="modal"> <!-- Tylko jedna wersja -->
        <h2>Wybierz Stadion</h2>
        <div id="stadiumSelectionContainer">
            <!-- Stadiony zostaną dodane przez JS -->
        </div>
        <button id="startMatchFromStadiumBtn">Rozpocznij Mecz!</button>
        <button id="backToTeamSelectBtn">Wróć do Wyboru Drużyn</button>
    </div>

    <!-- Ekran Gry -->
    <div id="gameScreen"> <!-- Tylko jedna wersja -->
        <div id="scoreboard">Wynik: Dom 0 : 0 Gość</div>
        <div id="matchTimer">Czas: 3:00</div>
        <div id="gameContainer">
             <canvas id="gameCanvas" width="640" height="400"></canvas>
        </div>
        <button id="backToStartBtn">Wyjdź do Menu</button>
    </div>

    <!-- Modal Ustawień -->
    <div id="settingsModal" class="modal"> <!-- Tylko jedna wersja -->
        <h2>Ustawienia</h2>
        <div>
            <p>Rozmiar czcionki:</p>
            <button class="fontSizeOption" data-size="small">Mała</button>
            <button class="fontSizeOption" data-size="medium">Średnia</button>
            <button class="fontSizeOption" data-size="large">Duża</button>
        </div>
        <button id="closeSettingsModalBtn">Zamknij</button>
    </div>

    <!-- Modal Bazy Graczy (Placeholder) -->
    <div id="playerDBModal" class="modal"> <!-- Tylko jedna wersja -->
        <h2>Baza Graczy (Placeholder)</h2>
        <p>Tutaj będzie można dodawać/zarządzać graczami.</p>
        <form id="addPlayerForm">
             <!-- Uproszczone pola placeholder -->
            <input type="text" placeholder="Imię gracza" disabled>
            <button type="submit" disabled>Dodaj</button>
        </form>
        <button id="closePlayerDBBtn">Zamknij</button>
    </div>

    <!-- Modal Języka (Placeholder) -->
    <div id="languageModal" class="modal"> <!-- Tylko jedna wersja -->
        <h2>Wybierz Język (Placeholder)</h2>
         <p>Funkcjonalność do zaimplementowania.</p>
        <button class="langOption" data-lang="pl">Polski</button>
        <button class="langOption" data-lang="en">English</button>
        <button id="closeLanguageModalBtn">Zamknij</button>
    </div>

    <!-- Element Audio dla muzyki w tle -->
    <audio id="backgroundMusic" loop>
      <!-- Zachowaj jedno źródło, które na pewno masz -->
      <source src="funky-da-funk-148872.mp3" type="audio/mpeg">
      <!-- Możesz dodać inne formaty jak .ogg dla lepszej kompatybilności jeśli masz plik .ogg -->
      <!-- <source src="funky-da-funk-148872.ogg" type="audio/ogg"> -->
      Twoja przeglądarka nie obsługuje elementu audio.
    </audio>

    <!-- Skrypt JS na końcu body -->
    <script src="script.js"></script>

</body>
</html>
